#
# Klipper Configuration for STM32F401RE (CLEO board)
#

# Microcontroller Architecture
CONFIG_MACH_STM32=y

# Processor Model - STM32F401RE (512KB flash)
CONFIG_MACH_STM32F401=y
CONFIG_MACH_STM32F401xE=y

# MCU Configuration
CONFIG_MCU="stm32f401xe"

# Clock Settings
CONFIG_CLOCK_FREQ=84000000

# Flash Configuration
CONFIG_FLASH_SIZE=524288
CONFIG_FLASH_BOOT_ADDRESS=0x08000000
CONFIG_FLASH_APPLICATION_ADDRESS=0x08000000

# Communication - Serial on USART1
CONFIG_HAVE_STM32_SERIAL=y
CONFIG_STM32_SERIAL_USART1=y
CONFIG_STM32_SERIAL_USART1_PA10_PA9=y

# GPIO Support
CONFIG_HAVE_GPIO=y
CONFIG_HAVE_GPIO_I2C=n
CONFIG_HAVE_GPIO_SPI=n
CONFIG_HAVE_GPIO_SDIO=n
CONFIG_HAVE_GPIO_HARD_PWM=y

# Basic Features
CONFIG_CANSERIAL=n
CONFIG_HAVE_STEPPER_OPTIMIZED_BOTH_EDGE=y

# Disable unused features to reduce size
CONFIG_SENSORless_HOMING=n
CONFIG_SPI_FLASH=n
CONFIG_HAVE_STM32_CANBUS=n
CONFIG_HAVE_STM32_FDCANBUS=n